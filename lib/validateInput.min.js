function include(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.src=e,r.type="text/javascript",t.appendChild(r)}function setErrorLabel(e,t,r){var a='<label id="'+r.substr(1,r.length)+'" class="error" for="'+t.substr(1,t.length)+'" style="display: block;">'+e+"</label>",n=$(r).length;0===n?$(a).insertAfter($("input"+t)):($(r).text(e),$(r).show())}function setButtonState(e,t){t?$(e).removeAttr("disabled"):$(e).attr("disabled","disabled")}function userStatusValid(e,t){if(e){var r=e,a=t?t+r:url+r,n=r.substr(r.length-1);if("."!==n){var s=$.ajax({url:a,dataType:"json",async:!1,success:function(e){}}),i=s.responseJSON.user_status;if(i&&(userStatus=i,0!=i)){var u,l,o;i<0?(l="User Domain invalid!",o="Benutzer Domaine ungültig"):3==i?(l="Maximum Registration Attempts exceeded for User "+r+".Please contact our Support.",o="Benutzer "+r+" hat die maximalen Registrierungsversuche überschritten."):4==i||12==i||i>100?(l="User "+r+" exists. Please reset your password.",o="Benutzer "+r+" existiert. Bitte setzen Sie Ihr Kennwort zurück."):11==i?(l="User "+r+" exists. Please confirm your Registration.",o="Benutzer "+r+" existiert. Bitte bestätigen Sie Ihre Registrierung."):1!=i&&2!=i&&10!=i||(l="Your Registration expired. Please register again.",o="Ihre Registrierung ist abgelaufen. Bitte registrieren Sie sich erneut."),validator.destroy(),u="de"===Lang?o:l,setErrorLabel(u,checkField,errorField)}}}return 0===i}function checkInput(){var e=form.valid(),t=$(checkField).val();if(e){var r=userStatusValid(t);return r?(setButtonState(buttonID,r),r):(setButtonState(buttonID,!1),!1)}return setButtonState(buttonID,!1),!1}var userStatus=null,host=$v(hostItem),url=host+restUrl,LANG="en",browserLang=$v(browserLangItem),defaultLang=browserLang?browserLang:LANG,Lang=lang?lang:defaultLang;Lang&&Lang!==LANG&&include(VALIDATOR_JS_INCLUDE+"messages_"+Lang+".min.js"),jQuery.validator.setDefaults({debug:!0,success:"valid"}),jQuery.validator.addMethod("pwcheck",function(e){return/^[A-Za-z0-9\d=!\-+#.,:@._*]*$/.test(e)&&/[=!\-+#.,:@._*]/.test(e)&&/[a-z]/.test(e)&&/\d/.test(e)});var PWCHECK_MSG="Please enter at least 1 Lower-, Upper- Specialchar and Number.";Lang&&"de"===Lang&&(PWCHECK_MSG="Bitte mind. 1 Klein-, Groß-, Sonderzeichen und Zahl.");var validator=form.validate({lang:Lang,normalizer:function(e){return $.trim(e)},rules:{FIRSTNAME:{required:!0},LASTNAME:{required:!0},EMAIL:{required:!0,email:!0},PASSWORD:{required:!0,pwcheck:!0},PASSWORDV:{required:!0,equalTo:PASSWORD}},messages:{PASSWORD:{pwcheck:PWCHECK_MSG}}});form.on("keyup keydown keypress",function(e){var t=e.keyCode||e.which;13!==t&&9!==t||(13===t?e.preventDefault():null,checkInput())});